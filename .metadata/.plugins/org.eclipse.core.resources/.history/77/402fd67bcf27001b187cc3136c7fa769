extern void dsp_minval_asm(short *data,short *temp);
short DSP_minval(short x[], int nx)
{
	int min;
	min = 32767;
	short temp[128]={32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767,32767};
	int k = nx / 128;
	if (nx >= 256) {
		for (int i = 0; i < k; i++) {
			dsp_minval_asm(&x[i * 128], temp);
		}
		for (int i = 0; i < 128; i++)
			if (temp[i] < min)
				min = temp[i];
	} else if (nx >= 128) {
		k--;
	}
	for (int i = k * 128; i < nx; i++)
		if (x[i] < min)
			min = x[i];
	return min;
}

